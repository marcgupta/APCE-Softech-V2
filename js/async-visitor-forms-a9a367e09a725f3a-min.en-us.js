"use strict";(self.webpackChunkextract_css=self.webpackChunkextract_css||[]).push([["83769"],{998124:function(j,h,c){c.r(h),c.d(h,{Environment:()=>g,getDomain:()=>p,getEnvironment:()=>o,isDev:()=>e,isInternal:()=>w,isQA:()=>n,isStage:()=>s});var y=c(392338),O=c.n(y),g=function(t){return t.DEVELOPMENT="development",t.STAGING="staging",t.QA="qa",t.PRODUCTION="production",t}({}),p=function(){var f,v,E,C,S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window;if(typeof S=="string"){var A=new URL(S);return A.hostname}return(f=(v=(E=S.Static)===null||E===void 0||(E=E.SQUARESPACE_CONTEXT)===null||E===void 0?void 0:E.appDomain)!==null&&v!==void 0?v:(C=S.location)===null||C===void 0?void 0:C.host)!==null&&f!==void 0?f:""},w=function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window;return/\.(sqsp|squarespace)\.net$/.test(p(f))},s=function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window;return/stage\.(sqsp|squarespace)\.net$/.test(p(f))},n=function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window;return/qa[0-9]+\.(sqsp|squarespace)\.net$/.test(p(f))},e=function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window;return/dev\.(sqsp|squarespace)\.net$/.test(p(f))},o=()=>{var t=g.PRODUCTION;return e()?t=g.DEVELOPMENT:n()?t=g.QA:(s()||w())&&(t=g.STAGING),t}},986446:function(j,h,c){c.r(h),c.d(h,{bootstrapVisitorForms:()=>R,updateVisitorForms:()=>x});var y=c(495276),O=c(164160),g=c(248969),p=c(29756),w=c(658880),s=c(224859),n=c(364947),e=c(896828);function o(d,u,a,l,r,_,m){try{var P=d[_](m),b=P.value}catch(i){a(i);return}P.done?u(b):Promise.resolve(b).then(l,r)}function t(d){return function(){var u=this,a=arguments;return new Promise(function(l,r){var _=d.apply(u,a);function m(b){o(_,l,r,m,P,"next",b)}function P(b){o(_,l,r,m,P,"throw",b)}m(void 0)})}}function f(d,u,a){return u in d?Object.defineProperty(d,u,{value:a,enumerable:!0,configurable:!0,writable:!0}):d[u]=a,d}function v(d){for(var u=1;u<arguments.length;u++){var a=arguments[u]!=null?arguments[u]:{},l=Object.keys(a);typeof Object.getOwnPropertySymbols=="function"&&(l=l.concat(Object.getOwnPropertySymbols(a).filter(function(r){return Object.getOwnPropertyDescriptor(a,r).enumerable}))),l.forEach(function(r){f(d,r,a[r])})}return d}function E(d,u){var a=Object.keys(d);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(d);u&&(l=l.filter(function(r){return Object.getOwnPropertyDescriptor(d,r).enumerable})),a.push.apply(a,l)}return a}function C(d,u){return u=u!=null?u:{},Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(u)):E(Object(u)).forEach(function(a){Object.defineProperty(d,a,Object.getOwnPropertyDescriptor(u,a))}),d}function S(d,u){var a,l,r,_={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},m=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return m.next=P(0),m.throw=P(1),m.return=P(2),typeof Symbol=="function"&&(m[Symbol.iterator]=function(){return this}),m;function P(i){return function(D){return b([i,D])}}function b(i){if(a)throw new TypeError("Generator is already executing.");for(;m&&(m=0,i[0]&&(_=0)),_;)try{if(a=1,l&&(r=i[0]&2?l.return:i[0]?l.throw||((r=l.return)&&r.call(l),0):l.next)&&!(r=r.call(l,i[1])).done)return r;switch(l=0,r&&(i=[i[0]&2,r.value]),i[0]){case 0:case 1:r=i;break;case 4:return _.label++,{value:i[1],done:!1};case 5:_.label++,l=i[1],i=[0];continue;case 7:i=_.ops.pop(),_.trys.pop();continue;default:if(r=_.trys,!(r=r.length>0&&r[r.length-1])&&(i[0]===6||i[0]===2)){_=0;continue}if(i[0]===3&&(!r||i[1]>r[0]&&i[1]<r[3])){_.label=i[1];break}if(i[0]===6&&_.label<r[1]){_.label=r[1],r=i;break}if(r&&_.label<r[2]){_.label=r[2],_.ops.push(i);break}r[2]&&_.ops.pop(),_.trys.pop();continue}i=u.call(d,_)}catch(D){i=[6,D],l=0}finally{a=r=0}if(i[0]&5)throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}}var A=()=>Object.fromEntries(new URLSearchParams(window.location.search)),T;function R(){var d=document.querySelectorAll(".sqs-block-form");T=[],d.forEach(function(){var u=t(function(a){var l,r,_,m,P,b,i,D;return S(this,function(U){switch(U.label){case 0:return a.className.includes("sqs-block-website-component")?[2]:a.className.includes("sqs-block-form-lightbox")?[2]:a.className.includes("donation-form")?[2]:(l=a.id,r=(0,g.S)(a),r?r.useLightbox?[2]:(_=(0,p.z)(r,window),m=r.formId,[4,(0,O.h)(r,w.Z)]):(console.error("Missing form context for block: ".concat(l,", ").concat(JSON.stringify(a))),[2]));case 1:return P=U.sent(),b=a.querySelector(".form-wrapper"),b?(i=(0,n.S)(window),(0,s.if)(m),D=C(v({},P),{mediaPlatformBaseUrl:i,mediaPlatformLibraryId:m,queryParams:A(),uploadAuthorization:t(function(){return S(this,function(M){return[2,(0,n.t)(r,window)]})}),onSubmit:function(){var M=t(function(I){return S(this,function(L){switch(L.label){case 0:return[4,_(I)];case 1:return L.sent(),[2,!0]}})});return function(I){return M.apply(this,arguments)}}()}),(0,e.S)(D,b),T.push(function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,e.S)(v({},D,M),b)}),[2]):(console.error("Missing formWrapper for block: '".concat(l,"'")),[2])}})});return function(a){return u.apply(this,arguments)}}())}function x(d){T.forEach(u=>{u(d)})}},794284:function(j,h,c){var y=c(174161),O=c(112499),g=c(714605),p=c(11576);function w(e,o,t){return o in e?Object.defineProperty(e,o,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[o]=t,e}function s(e){for(var o=1;o<arguments.length;o++){var t=arguments[o]!=null?arguments[o]:{},f=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(f=f.concat(Object.getOwnPropertySymbols(t).filter(function(v){return Object.getOwnPropertyDescriptor(t,v).enumerable}))),f.forEach(function(v){w(e,v,t[v])})}return e}var n=e=>{var o=e.translationLocale,t=e.formattingLocale,f=e.children;return y.createElement(O.Z.Provider,{value:s({translationLocale:o,formattingLocale:t,cldrLoader:p.Z},g.Td)},f)};h.Z=n},376569:function(j,h,c){c.d(h,{Jl:()=>w,Oj:()=>s,dU:()=>e,ge:()=>g,ni:()=>p,r8:()=>n});var y=c(881448),O=c(998124),g=O.getDomain,p=O.isInternal,w=O.isStage,s=O.isQA,n=O.isDev,e=function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window,t,f,v=o==null||(f=o.Static)===null||f===void 0||(t=f.SQUARESPACE_CONTEXT)===null||t===void 0?void 0:t.env;return v||(0,y.$e)(E=>{E.setTag("critical-issue","true"),E.setTag("user_facing","true"),(0,y.Tb)(new Error("Environment is not defined"))}),v}},248969:function(j,h,c){c.d(h,{S:()=>w});function y(s,n,e){return n in s?Object.defineProperty(s,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):s[n]=e,s}function O(s){for(var n=1;n<arguments.length;n++){var e=arguments[n]!=null?arguments[n]:{},o=Object.keys(e);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(e).filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.forEach(function(t){y(s,t,e[t])})}return s}function g(s,n){var e=Object.keys(s);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(s);n&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(s,t).enumerable})),e.push.apply(e,o)}return e}function p(s,n){return n=n!=null?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach(function(e){Object.defineProperty(s,e,Object.getOwnPropertyDescriptor(n,e))}),s}var w=s=>{var n=s.querySelector("script.sqs-form-block-context"),e=s.querySelector("script.sqs-form-block-localized-strings"),o=s.querySelector(".sqs-form-block-submission-html"),t,f=(t=o==null?void 0:o.getAttribute("data-submission-html"))!==null&&t!==void 0?t:void 0;try{if(e!=null&&e.textContent){var v=JSON.parse(e==null?void 0:e.textContent);return n!=null&&n.textContent?p(O({formSubmissionHTML:f},JSON.parse(n.textContent)),{localizedStrings:v}):null}return n!=null&&n.textContent?O({formSubmissionHTML:f},JSON.parse(n.textContent)):null}catch(E){throw new Error("Error parsing the JSON form context")}}}}]);

//# sourceMappingURL=https://sourcemaps.squarespace.net/universal/scripts-compressed/sourcemaps/169e1343a8121cbe/async-visitor-forms-a9a367e09a725f3a-min.en-US.js.map